.lead
    .pages__section:not(.full-width) &
        @include lead
        
header#document-header
    border-bottom: 0
    .logo
        @include media-breakpoint-up(lg)
            align-items: center
            display: flex
            text-decoration: none
            &::before
                @include icon-code("code-logo")
                color: $pleas
                font-size: 44px
                margin-right: 5px
        img
            height: 26px
            @include media-breakpoint-up(md)
                height: 44px
    .menu
        .nav-level-1
            > li
                > a
                    @include h2
                    font-weight: normal
                    @include media-breakpoint-up(desktop)
                        @include meta
                .dropdown-menu
                    @include media-breakpoint-up(desktop)
                        border-bottom: 5px solid black
                &:not(:last-child)
                    a::after
                    @include icon-code("code-arrow-bottom")
                    display: inline-block
                    font-size: px2rem(5)
                    margin-left: half($spacing0)
                // TODO : changer une fois le dom modifiÃ©
                &:first-child
                    @include code-menu-color($challenges)
                &:nth-child(2)
                    @include code-menu-color($pleas)
                &:nth-child(4)
                    @include code-menu-color($association)
                &:last-child
                    a
                        background-color: $association
                        padding: px2rem(8) px2rem(16)
        .nav-level-2
            @include grid(3)
            > li
                > a
                    @include media-breakpoint-up(desktop)
                        @include h2
                    &::after
                        @include icon-code("code-arrow-right")
                        display: inline-block
                        font-size: px2rem(10)
                        margin-left: half($spacing0)

nav.posts-navigation
    ul 
        > li
            a
                @include meta
                @include link
                text-decoration-color: rgba(0,0,0,0)
                &:hover
                    color: inherit
                span
                    color: $color-text-alt
                    margin-bottom: 0

footer#document-footer
    padding-bottom: $spacing4
    nav
        a
            display: block
        .nav-level-1
            > li
                margin-top: 0
                > a, > span
                    display: block
                    padding-bottom: $spacing1
                &:last-child
                    > a, > span
                        padding-bottom: 0
        .nav-level-2
            a, span
                @include meta
    .footer-site
        @include meta
    .footer-legals
        margin-top: $spacing2
    .footer-credit
        display: block
        margin-top: $spacing2
    .footer-logo
        padding-top: $spacing3
        text-align: center
        &::before
            @include icon-code("code-logo")
            color: $pleas
            font-size: 40px
            margin-right: 5px
    @include media-breakpoint-down(desktop)
        nav
            width: col(6)
            .nav-level-1
                ul
                    display: none
        .footer-logo
            margin-top: $spacing4
        @include media-breakpoint-up(md)
            .container
                @include grid(2)
                .footer-info
                    margin-top: 0
                    text-align: right
    @include media-breakpoint-up(desktop)
        nav
            width: col(6)
            .nav-level-1
                @include grid(2)
                > li
                    border-top: 1px solid white
                    padding-top: $spacing1
        .footer-legals
            text-align: right


// blocks
.block
    .top
        h2
            @include h5
            a 
                @include in-page-with-or-without-sidebar
                    @include link
                &::after
                    @include icon-code("code-arrow-right")
                    margin-left: $spacing0
                    display: inline-block
    &-call_to_action
        @include in-page-without-sidebar
            .block-content
                padding-top: $spacing3
        .call_to_action
            &--without-image
                > div
                    @include in-page-with-or-without-sidebar
                       display: block
            > div
                border: 1px solid black
                padding: $spacing1
                position: relative
                @include media-breakpoint-up(desktop)
                    padding: $spacing2
                .description
                    p
                        @include inherit-text
                        @include in-page-without-sidebar
                            text-align: center
                @include in-page-with-or-without-sidebar
                    .actions
                        bottom: 0
                        display: inline-block
                        grid-column: unset
                        text-align: center
                        @include media-breakpoint-up(desktop)
                            left: 50%
                            position: absolute
                            transform: translate(-50%,50%)
                            white-space: nowrap
                        a 
                            @include btn
                            background: $block-call-to-action-button-background
                            color: $block-call-to-action-button-color
                            margin: 0
                            margin-bottom: $spacing0
                            @include media-breakpoint-up(desktop)
                                margin: 0
                            + a
                                margin-top: 0
                                margin-left: half($spacing0)
    &-timeline
        &--horizontal
            h2 
                @include in-page-with-or-without-sidebar
                    @include h2
            .event
                .title
                    @include h4    
    &-posts
        article
            h1
                a
                    @include link
            time
                text-transform: uppercase
        &--grid     
            h2
                @include h5-code 
        &--highlight
            .highlight-post
                h1
                    margin-bottom: 0
                    margin-top: $spacing0
                    @include h3
                .post-content
                    display: flex
                    flex-direction: column
            .list
                border: none
                article
                    border: none
                    h1
                        @include h2
                        a
                            @include link
            article
                time
                    order: 2
                p
                    order: 3
        &--list
            @include in-page-with-or-without-sidebar
                .top
                    h2
                        &::after
                            @include icon-code("code-arrow-right")
                            color: $pleas
                            margin-left: $spacing0
                article
                    border-bottom: none
                    display: flex
                    flex-direction: row-reverse
                    justify-content: space-between
                    h1
                        @include h2
                    .post-content
                        margin-left: 0
                        time
                            order: 2
                        p
                            order: 3
                .media
                    img 
                        aspect-ratio: 2
            @include in-page-with-sidebar
                article
                    .media
                        width: col(3)
    &-pages
        .grid
            article
                h1
                    a
                        @include link(white)
                        color: black
                        &::after
                            @include icon-code("code-arrow-right")
                            color: white
                            display: inline-block
                            margin-left: half($spacing0)
        &.block-page-pleas,
        &.block-page-challenges,
        &.block-page-association
            padding: $spacing2 0
        &.block-page-pleas
            background-color: $pleas
            article
                .media
                    margin: 0 auto
                    position: relative
                    width: col(2, 4)
                    &::before
                        @include icon-code("code-logo")
                        color: white
                        display: block
                        font-size: 52px
                        position: absolute
                        bottom: 0
                        left: 50%
                        transform: translate(-50%, 50%)
                    picture
                        img 
                            aspect-ratio: 1
                            border-radius: 50%
                            object-fit: cover
                h1
                    padding-top: calc(#{$spacing1} + #{half($spacing0)})
                    text-align: center
                p
                    text-align: center
        &.block-page-association,
        &.block-page-challenges
            article
                .media
                    img
                        object-fit: contain
body.page__home
    .block
        &-pages
            .top
                h2
                    a
                        @include link(white)
                        color: black
                        &::after
                            @include icon-code("code-arrow-right")
                            color: white
            &.block-page-association
                background-color: $association
                article
                    .media
                        background-color: white
            &.block-page-challenges
                background-color: $challenges
        &.term-actualites
            .top
                h2
                    a
                        @include link($pleas)
                        color: black
                        &::after
                            color: $pleas
        &.term-points-de-vue
            .top
                h2
                    a
                        @include link($viewpoint)
                        color: black
                        &::after
                            color: $viewpoint
.categories__term
    .lead
        width: col(8)
    &.term-points-de-vue
        @include code-page-color($viewpoint)
    &.term-actualites,
    &.term-points-de-vue
        .document-content
            .posts
                margin-top: $spacing2
                > article
                    &:first-of-type
                        @include media-breakpoint-down(desktop)
                            h1
                                margin-top: $spacing1
                        @include media-breakpoint-up(desktop)
                            grid-column: 1 / 3
                            @include grid(2)
                    &:not(:first-of-type)
                        @include grid(6)
                        .post-content
                            grid-column: 3 / 7
                        .media
                            grid-column: 1 / 3
                        @include media-breakpoint-up(xl)
                            @include grid(9)
                            .post-content
                                grid-column: 4 / 10
                            .media
                                grid-column: 1 / 4
                        h1
                            @include media-breakpoint-down(desktop)
                                margin-top: $spacing1
                            a
                                @include h2
                    .post-content
                        display: flex
                        flex-direction: column
                        time
                            order: 2
                            text-transform: uppercase
                            margin-bottom: half($spacing0)
                        p
                            order: 3
                    .media
                        margin-bottom: 0
.pages__section 
    &.page-challenges
        @include code-page-color($challenges) 
    &.page-association
        @include code-page-color($association) 
    &.page-pleas 
        @include code-page-color($pleas) 
        .hero
            .content
                align-items: center
                figure
                    width: col(3)
                    img 
                        aspect-ratio: 1
                        border-radius: 100%
                        object-fit: cover
        .block-pages
            article
                .media
                    margin: auto
                    position: relative
                    width: calc(50% - #{$spacing0})
                    img 
                        aspect-ratio: 1
                        border-radius: 50%
                    &::before
                        @include icon-code("code-logo")
                        color: $pleas
                        display: block
                        font-size: 52px
                        position: absolute
                        bottom: 0
                        left: 50%
                        transform: translate(-50%, 50%)
                        z-index: 3
                h1
                    padding-top: calc(#{$spacing1} + #{half($spacing0)})
                    text-align: center
                p
                    text-align: center
        
.posts
    article
        h1
            a
                @include link

// Hero
.hero
    .container
        padding-top: $spacing4
        .content
            align-items: flex-start
    hgroup
        display: flex
        flex-direction: column-reverse
        p
            @include h5-code
    h1
        &::after
            @include icon-code("code-logo")
            color: $pleas
            display: block
            font-size: 44px
            font-weight: normal
            margin-top: $spacing1

// Breadcrumb
.breadcrumb
    padding: $spacing1 0
    li
        &:not(:first-child)
            padding-left: half($spacing0)
            &::before
                @include icon-code($breadcrumb-icon)
                color: $breadcrumb-icon-color
                font-size: 8px
                padding-right: 0
        a
            @include link

// TOC
nav.toc
    ol
        > li
            > a
                position: relative
                &::before
                    content: ""
                    background-color: transparent
                    position: absolute
                    top: 0
                    bottom: 0
                    left: -$spacing0
                    width: 4px
                &.active::before
                    background-color: $pleas

.toc-content
    @include media-breakpoint-up(desktop)
        @include in-page-with-sidebar
            padding-left: $spacing1
            margin-left: -$spacing1

.block-chapo
    background: $pleas
    padding-top: $spacing3 !important